\doxysection{lib/pico-\/vfs-\/\+REGI-\/\+Local/vendor/ff15/documents/res/app5.c File Reference}
\hypertarget{app5_8c}{}\label{app5_8c}\index{lib/pico-\/vfs-\/REGI-\/Local/vendor/ff15/documents/res/app5.c@{lib/pico-\/vfs-\/REGI-\/Local/vendor/ff15/documents/res/app5.c}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44c}{FRESULT}} \mbox{\hyperlink{app5_8c_a9772009a10ab7b6825e887b38708628a}{test\+\_\+contiguous\+\_\+file}} (\mbox{\hyperlink{struct_f_i_l}{FIL}} \texorpdfstring{$\ast$}{*}fp, int \texorpdfstring{$\ast$}{*}cont)
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{app5_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{app5_8c_a9772009a10ab7b6825e887b38708628a}\index{app5.c@{app5.c}!test\_contiguous\_file@{test\_contiguous\_file}}
\index{test\_contiguous\_file@{test\_contiguous\_file}!app5.c@{app5.c}}
\doxysubsubsection{\texorpdfstring{test\_contiguous\_file()}{test\_contiguous\_file()}}
{\footnotesize\ttfamily \label{app5_8c_a9772009a10ab7b6825e887b38708628a} 
\mbox{\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44c}{FRESULT}} test\+\_\+contiguous\+\_\+file (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_i_l}{FIL}} \texorpdfstring{$\ast$}{*}}]{fp}{, }\item[{int \texorpdfstring{$\ast$}{*}}]{cont}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{app5_8c_source_l00005}{5}} of file \mbox{\hyperlink{app5_8c_source}{app5.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00009\ \{}
\DoxyCodeLine{00010\ \ \ \ \ \mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}}\ clst,\ clsz,\ step;}
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{ff_8h_a3fc0992ad7436250b6b1a0592214b7f2}{FSIZE\_t}}\ fsz;}
\DoxyCodeLine{00012\ \ \ \ \ \mbox{\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44c}{FRESULT}}\ fr;}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ *cont\ =\ 0;}
\DoxyCodeLine{00016\ \ \ \ \ fr\ =\ \mbox{\hyperlink{ff_8h_ae4caf47dd5cbc123b61d35542481b1be}{f\_rewind}}(fp);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Validates\ and\ prepares\ the\ file\ */}}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordflow}{if}\ (fr\ !=\ \mbox{\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}})\ \textcolor{keywordflow}{return}\ fr;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#if\ FF\_MAX\_SS\ ==\ FF\_MIN\_SS }}
\DoxyCodeLine{00020\ \ \ \ \ clsz\ =\ (\mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}})fp-\/>\mbox{\hyperlink{struct_f_i_l_ad95b6e85106673b0d7a1855da4d264f4}{obj}}.\mbox{\hyperlink{struct_f_f_o_b_j_i_d_a867089659a2374d44ab917c60037fe5c}{fs}}-\/>\mbox{\hyperlink{struct_f_a_t_f_s_ad7fa7a509f8d097a9ab182d6c47be568}{csize}}\ *\ \mbox{\hyperlink{ffconf_8h_a104c36ee46f9d6e76dadf37f3d9696cc}{FF\_MAX\_SS}};\ \ \ \ \textcolor{comment}{/*\ Cluster\ size\ */}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#else }}
\DoxyCodeLine{00022\ \ \ \ \ clsz\ =\ (\mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}})fp-\/>\mbox{\hyperlink{struct_f_i_l_ad95b6e85106673b0d7a1855da4d264f4}{obj}}.\mbox{\hyperlink{struct_f_f_o_b_j_i_d_a867089659a2374d44ab917c60037fe5c}{fs}}-\/>\mbox{\hyperlink{struct_f_a_t_f_s_ad7fa7a509f8d097a9ab182d6c47be568}{csize}}\ *\ fp-\/>\mbox{\hyperlink{struct_f_i_l_ad95b6e85106673b0d7a1855da4d264f4}{obj}}.\mbox{\hyperlink{struct_f_f_o_b_j_i_d_a867089659a2374d44ab917c60037fe5c}{fs}}-\/>ssize;}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#endif }}
\DoxyCodeLine{00024\ \ \ \ \ fsz\ =\ \mbox{\hyperlink{ff_8h_a26f33722c5bf1aa3cd6f0290a83eb2bc}{f\_size}}(fp);}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{if}\ (fsz\ >\ 0)\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ clst\ =\ fp-\/>\mbox{\hyperlink{struct_f_i_l_ad95b6e85106673b0d7a1855da4d264f4}{obj}}.\mbox{\hyperlink{struct_f_f_o_b_j_i_d_ad990393e2ddf16f73671ded4b751becb}{sclust}}\ -\/\ 1;\ \ \textcolor{comment}{/*\ A\ cluster\ leading\ the\ first\ cluster\ for\ first\ test\ */}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (fsz)\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ step\ =\ (fsz\ >=\ clsz)\ ?\ clsz\ :\ (\mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}})fsz;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ fr\ =\ \mbox{\hyperlink{ff_8c_a7c4bcf81d9122f0b5376852ec6a8c3eb}{f\_lseek}}(fp,\ \mbox{\hyperlink{ff_8h_a5e1daca7ce13cdc277e42185f7f9124f}{f\_tell}}(fp)\ +\ step);\ \ \ \ \textcolor{comment}{/*\ Advances\ file\ pointer\ a\ cluster\ */}}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fr\ !=\ \mbox{\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}})\ \textcolor{keywordflow}{return}\ fr;}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (clst\ +\ 1\ !=\ fp-\/>\mbox{\hyperlink{struct_f_i_l_aa41312aba551b9a6d1c9d3c8c7d2734b}{clust}})\ \textcolor{keywordflow}{break};\ \ \ \ \ \ \ \textcolor{comment}{/*\ Is\ not\ the\ cluster\ next\ to\ previous\ one?\ */}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ clst\ =\ fp-\/>\mbox{\hyperlink{struct_f_i_l_aa41312aba551b9a6d1c9d3c8c7d2734b}{clust}};\ fsz\ -\/=\ step;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Get\ current\ cluster\ for\ next\ test\ */}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fsz\ ==\ 0)\ *cont\ =\ 1;\ \ \ \ \textcolor{comment}{/*\ All\ done\ without\ fail?\ */}}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}};}
\DoxyCodeLine{00038\ \}}

\end{DoxyCode}
