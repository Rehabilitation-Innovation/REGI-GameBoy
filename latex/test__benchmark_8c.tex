\doxysection{lib/pico-\/vfs-\/\+REGI-\/\+Local/tests/host/test\+\_\+benchmark.c File Reference}
\hypertarget{test__benchmark_8c}{}\label{test__benchmark_8c}\index{lib/pico-\/vfs-\/REGI-\/Local/tests/host/test\_benchmark.c@{lib/pico-\/vfs-\/REGI-\/Local/tests/host/test\_benchmark.c}}
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}blockdevice/heap.\+h"{}}\newline
{\ttfamily \#include "{}filesystem/fat.\+h"{}}\newline
{\ttfamily \#include "{}filesystem/littlefs.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{test__benchmark_8c_a589fea3c63209fa4d21b6b30d8c365c3}{COLOR\+\_\+\+GREEN}}(format)
\item 
\#define \mbox{\hyperlink{test__benchmark_8c_ac1d21a4fb714b1ecddeb24d45a2f6dae}{HEAP\+\_\+\+STORAGE\+\_\+\+SIZE}}~(128 \texorpdfstring{$\ast$}{*} 1024)
\item 
\#define \mbox{\hyperlink{test__benchmark_8c_a1c1a6c6d5b2ddab1836e6c57ace6e71d}{LITTLEFS\+\_\+\+BLOCK\+\_\+\+CYCLE}}~500
\item 
\#define \mbox{\hyperlink{test__benchmark_8c_a73694eeb2680f0f6e6fa72fcd0ad458d}{LITTLEFS\+\_\+\+LOOKAHEAD\+\_\+\+SIZE}}~16
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{test__benchmark_8c_aeeec5b59d14f83093172c3c1bb781c36}{test\+\_\+benchmark}} (void)
\end{DoxyCompactItemize}


\label{doc-define-members}
\Hypertarget{test__benchmark_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{test__benchmark_8c_a589fea3c63209fa4d21b6b30d8c365c3}\index{test\_benchmark.c@{test\_benchmark.c}!COLOR\_GREEN@{COLOR\_GREEN}}
\index{COLOR\_GREEN@{COLOR\_GREEN}!test\_benchmark.c@{test\_benchmark.c}}
\doxysubsubsection{\texorpdfstring{COLOR\_GREEN}{COLOR\_GREEN}}
{\footnotesize\ttfamily \label{test__benchmark_8c_a589fea3c63209fa4d21b6b30d8c365c3} 
\#define COLOR\+\_\+\+GREEN(\begin{DoxyParamCaption}\item[{}]{format}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\textcolor{stringliteral}{"{}\(\backslash\)e[32m"{}}\ format\ \textcolor{stringliteral}{"{}\(\backslash\)e[0m"{}})}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{test__benchmark_8c_source_l00009}{9}} of file \mbox{\hyperlink{test__benchmark_8c_source}{test\+\_\+benchmark.\+c}}.

\Hypertarget{test__benchmark_8c_ac1d21a4fb714b1ecddeb24d45a2f6dae}\index{test\_benchmark.c@{test\_benchmark.c}!HEAP\_STORAGE\_SIZE@{HEAP\_STORAGE\_SIZE}}
\index{HEAP\_STORAGE\_SIZE@{HEAP\_STORAGE\_SIZE}!test\_benchmark.c@{test\_benchmark.c}}
\doxysubsubsection{\texorpdfstring{HEAP\_STORAGE\_SIZE}{HEAP\_STORAGE\_SIZE}}
{\footnotesize\ttfamily \label{test__benchmark_8c_ac1d21a4fb714b1ecddeb24d45a2f6dae} 
\#define HEAP\+\_\+\+STORAGE\+\_\+\+SIZE~(128 \texorpdfstring{$\ast$}{*} 1024)}



Definition at line \mbox{\hyperlink{test__benchmark_8c_source_l00010}{10}} of file \mbox{\hyperlink{test__benchmark_8c_source}{test\+\_\+benchmark.\+c}}.

\Hypertarget{test__benchmark_8c_a1c1a6c6d5b2ddab1836e6c57ace6e71d}\index{test\_benchmark.c@{test\_benchmark.c}!LITTLEFS\_BLOCK\_CYCLE@{LITTLEFS\_BLOCK\_CYCLE}}
\index{LITTLEFS\_BLOCK\_CYCLE@{LITTLEFS\_BLOCK\_CYCLE}!test\_benchmark.c@{test\_benchmark.c}}
\doxysubsubsection{\texorpdfstring{LITTLEFS\_BLOCK\_CYCLE}{LITTLEFS\_BLOCK\_CYCLE}}
{\footnotesize\ttfamily \label{test__benchmark_8c_a1c1a6c6d5b2ddab1836e6c57ace6e71d} 
\#define LITTLEFS\+\_\+\+BLOCK\+\_\+\+CYCLE~500}



Definition at line \mbox{\hyperlink{test__benchmark_8c_source_l00011}{11}} of file \mbox{\hyperlink{test__benchmark_8c_source}{test\+\_\+benchmark.\+c}}.

\Hypertarget{test__benchmark_8c_a73694eeb2680f0f6e6fa72fcd0ad458d}\index{test\_benchmark.c@{test\_benchmark.c}!LITTLEFS\_LOOKAHEAD\_SIZE@{LITTLEFS\_LOOKAHEAD\_SIZE}}
\index{LITTLEFS\_LOOKAHEAD\_SIZE@{LITTLEFS\_LOOKAHEAD\_SIZE}!test\_benchmark.c@{test\_benchmark.c}}
\doxysubsubsection{\texorpdfstring{LITTLEFS\_LOOKAHEAD\_SIZE}{LITTLEFS\_LOOKAHEAD\_SIZE}}
{\footnotesize\ttfamily \label{test__benchmark_8c_a73694eeb2680f0f6e6fa72fcd0ad458d} 
\#define LITTLEFS\+\_\+\+LOOKAHEAD\+\_\+\+SIZE~16}



Definition at line \mbox{\hyperlink{test__benchmark_8c_source_l00012}{12}} of file \mbox{\hyperlink{test__benchmark_8c_source}{test\+\_\+benchmark.\+c}}.



\label{doc-func-members}
\Hypertarget{test__benchmark_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{test__benchmark_8c_aeeec5b59d14f83093172c3c1bb781c36}\index{test\_benchmark.c@{test\_benchmark.c}!test\_benchmark@{test\_benchmark}}
\index{test\_benchmark@{test\_benchmark}!test\_benchmark.c@{test\_benchmark.c}}
\doxysubsubsection{\texorpdfstring{test\_benchmark()}{test\_benchmark()}}
{\footnotesize\ttfamily \label{test__benchmark_8c_aeeec5b59d14f83093172c3c1bb781c36} 
void test\+\_\+benchmark (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{test__benchmark_8c_source_l00104}{104}} of file \mbox{\hyperlink{test__benchmark_8c_source}{test\+\_\+benchmark.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00105\ \ \ \ \ printf(\textcolor{stringliteral}{"{}FAT\ write/read:\(\backslash\)n"{}});}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{group__blockdevice_ga4bc2c146f975b5250be7f8f5f219f5e4}{blockdevice\_t}}\ *heap\ =\ \mbox{\hyperlink{group__blockdevice__heap_ga9500b5327f9bf0e2bf3ca11ec122748f}{blockdevice\_heap\_create}}(\mbox{\hyperlink{fs__init__heap_8c_ac1d21a4fb714b1ecddeb24d45a2f6dae}{HEAP\_STORAGE\_SIZE}});}
\DoxyCodeLine{00108\ \ \ \ \ assert(heap\ !=\ NULL);}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{group__filesystem_gad16024c6aa37d328b78a38f8c006ac83}{filesystem\_t}}\ *fat\ =\ \mbox{\hyperlink{group__filesystem__fat_ga5b7bf00bfce64f76dd5cba01901781c5}{filesystem\_fat\_create}}();}
\DoxyCodeLine{00110\ \ \ \ \ assert(fat\ !=\ NULL);}
\DoxyCodeLine{00111\ \ \ \ \ setup(heap);}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{int}\ err\ =\ fat-\/>format(fat,\ heap);}
\DoxyCodeLine{00113\ \ \ \ \ assert(err\ ==\ 0);}
\DoxyCodeLine{00114\ \ \ \ \ err\ =\ fat-\/>mount(fat,\ heap,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00115\ \ \ \ \ assert(err\ ==\ 0);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ test\_api\_write(fat);}
\DoxyCodeLine{00118\ \ \ \ \ test\_api\_read(fat);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ err\ =\ fat-\/>unmount(fat);}
\DoxyCodeLine{00121\ \ \ \ \ assert(err\ ==\ 0);}
\DoxyCodeLine{00122\ \ \ \ \ cleanup(heap);}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{group__filesystem__fat_gac9daf020a57d62f1b2fe7eef5ce5847e}{filesystem\_fat\_free}}(fat);}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{group__blockdevice__heap_ga6d78ccbc7b18231fadf2dd61c42f2a84}{blockdevice\_heap\_free}}(heap);}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ printf(\textcolor{stringliteral}{"{}littlefs\ write/read:\(\backslash\)n"{}});}
\DoxyCodeLine{00128\ \ \ \ \ heap\ =\ \mbox{\hyperlink{group__blockdevice__heap_ga9500b5327f9bf0e2bf3ca11ec122748f}{blockdevice\_heap\_create}}(\mbox{\hyperlink{fs__init__heap_8c_ac1d21a4fb714b1ecddeb24d45a2f6dae}{HEAP\_STORAGE\_SIZE}});}
\DoxyCodeLine{00129\ \ \ \ \ assert(heap\ !=\ NULL);}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{group__filesystem_gad16024c6aa37d328b78a38f8c006ac83}{filesystem\_t}}\ *lfs\ =\ \mbox{\hyperlink{group__filesystem__littlefs_ga6bf5205dec6fdf2ec2d190c44f5f2594}{filesystem\_littlefs\_create}}(\mbox{\hyperlink{test__benchmark_8c_a1c1a6c6d5b2ddab1836e6c57ace6e71d}{LITTLEFS\_BLOCK\_CYCLE}},}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__benchmark_8c_a73694eeb2680f0f6e6fa72fcd0ad458d}{LITTLEFS\_LOOKAHEAD\_SIZE}});}
\DoxyCodeLine{00132\ \ \ \ \ assert(lfs\ !=\ NULL);}
\DoxyCodeLine{00133\ \ \ \ \ setup(heap);}
\DoxyCodeLine{00134\ \ \ \ \ err\ =\ lfs-\/>\mbox{\hyperlink{structfilesystem_ad7739bd29a4ee1d7e839c3bfe58d3c53}{format}}(lfs,\ heap);}
\DoxyCodeLine{00135\ \ \ \ \ assert(err\ ==\ 0);}
\DoxyCodeLine{00136\ \ \ \ \ err\ =\ lfs-\/>\mbox{\hyperlink{structfilesystem_ab137318416813c5413e1fb5f356e712c}{mount}}(lfs,\ heap,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00137\ \ \ \ \ assert(err\ ==\ 0);}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ test\_api\_write(lfs);}
\DoxyCodeLine{00141\ \ \ \ \ test\_api\_read(lfs);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ err\ =\ lfs-\/>\mbox{\hyperlink{structfilesystem_a6e052dafa112dba9a6d729a49cae08c1}{unmount}}(lfs);}
\DoxyCodeLine{00144\ \ \ \ \ assert(err\ ==\ 0);}
\DoxyCodeLine{00145\ \ \ \ \ cleanup(heap);}
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{group__filesystem__littlefs_ga4cdb39bf1728e9ee86032ef5c4abd704}{filesystem\_littlefs\_free}}(lfs);}
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{group__blockdevice__heap_ga6d78ccbc7b18231fadf2dd61c42f2a84}{blockdevice\_heap\_free}}(heap);}
\DoxyCodeLine{00148\ \}}

\end{DoxyCode}
