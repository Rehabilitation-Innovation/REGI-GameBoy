<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyEngine: src/tinyengine_framebuffer.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="image (1).png"/></td>
  <td id="projectalign">
   <div id="projectname">TinyEngine<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A tiny engine built for embedded RP2350 based game consoles. Includes support for Scenes, sprites, text, and DVI output.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('tinyengine__framebuffer_8cpp.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">tinyengine_framebuffer.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="tinyengine__framebuffer_8h_source.html">tinyengine_framebuffer.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;malloc.h&gt;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;memory.h&quot;</code><br />
<code>#include &quot;hardware/interp.h&quot;</code><br />
<code>#include &quot;math.h&quot;</code><br />
<code>#include &quot;<a class="el" href="tinyengine__sprite_8h_source.html">tinyengine_sprite.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="font_8h_source.html">font.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="renew__font_8h_source.html">renew_font.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tinyengine_framebuffer.cpp:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="tinyengine__framebuffer_8cpp__incl.svg" width="100%" height="564"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="tinyengine__framebuffer_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adcc3b85c751f64cda0dec4912e314a2a" id="r_adcc3b85c751f64cda0dec4912e314a2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcc3b85c751f64cda0dec4912e314a2a">CHECK_BOUNDS</a>(<a class="el" href="_dino_game_8cpp.html#aae8a40a17c0be29c1f06ca6b4f9e2235">x</a>,  <a class="el" href="_dino_game_8cpp.html#a9c02f93c9698e4486878867c4f265c48">y</a>)</td></tr>
<tr class="memitem:a655981006fca173dd2e056bf81a63dc3" id="r_a655981006fca173dd2e056bf81a63dc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a655981006fca173dd2e056bf81a63dc3">CHAR_WIDTH</a>&#160;&#160;&#160;7</td></tr>
<tr class="memitem:ae2eecd07a9b6a2256002a15b28e388f2" id="r_ae2eecd07a9b6a2256002a15b28e388f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2eecd07a9b6a2256002a15b28e388f2">CHAR_HEIGHT</a>&#160;&#160;&#160;8</td></tr>
<tr class="memitem:ad546866d6b629b02bca4560c2c1ef35a" id="r_ad546866d6b629b02bca4560c2c1ef35a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad546866d6b629b02bca4560c2c1ef35a">UNIT_LSB</a>&#160;&#160;&#160;16</td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="ae2eecd07a9b6a2256002a15b28e388f2" name="ae2eecd07a9b6a2256002a15b28e388f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2eecd07a9b6a2256002a15b28e388f2">&#9670;&#160;</a></span>CHAR_HEIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHAR_HEIGHT&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tinyengine__framebuffer_8cpp_source.html#l00026">26</a> of file <a class="el" href="tinyengine__framebuffer_8cpp_source.html">tinyengine_framebuffer.cpp</a>.</p>

</div>
</div>
<a id="a655981006fca173dd2e056bf81a63dc3" name="a655981006fca173dd2e056bf81a63dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a655981006fca173dd2e056bf81a63dc3">&#9670;&#160;</a></span>CHAR_WIDTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHAR_WIDTH&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Improvement notes:</p><ul>
<li>per pixel bounds checks have small impact in Release optimizations, but they are unneccesary if the full shape is insode the buffer. Add checks before drawing or just tell the user to be carefull; will save critical renderer time. Honestly, i dont think any one will make a game that completly saturates the renderer's capabilities. Even with full screen writes it maintains ~800 FPS.</li>
<li>Char rendering is a utter waste of renderer time. Do this on the second core, or dont do it all the time. Espeacially for static sentances. Most of the renderer time is wasted drawing the same thing from a look up table - instead just write the text to a smaller buffer in static flash or psram and then just render pixel to pixel instead of doing the character look up every time. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="tinyengine__framebuffer_8cpp_source.html#l00025">25</a> of file <a class="el" href="tinyengine__framebuffer_8cpp_source.html">tinyengine_framebuffer.cpp</a>.</p>

</div>
</div>
<a id="adcc3b85c751f64cda0dec4912e314a2a" name="adcc3b85c751f64cda0dec4912e314a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc3b85c751f64cda0dec4912e314a2a">&#9670;&#160;</a></span>CHECK_BOUNDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_BOUNDS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="_dino_game_8cpp.html#aae8a40a17c0be29c1f06ca6b4f9e2235">x</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="_dino_game_8cpp.html#a9c02f93c9698e4486878867c4f265c48">y</a></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code hl_variable" href="_dino_game_8cpp.html#aae8a40a17c0be29c1f06ca6b4f9e2235">x</a> &lt; 0 || <a class="code hl_variable" href="_dino_game_8cpp.html#a9c02f93c9698e4486878867c4f265c48">y &lt; 0 || x &gt;</a> 320 || <a class="code hl_variable" href="_dino_game_8cpp.html#a9c02f93c9698e4486878867c4f265c48">y</a> &gt; 240) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="tinyengine_8h.html#a99e26dc5d9e1752ba606841d6b5c3d40ad36c1abc9c38b5c283a332ac03682f1d">TINYENGINE_OUTOFBOUNDS_ERROR</a>;</div>
<div class="ttc" id="a_dino_game_8cpp_html_a9c02f93c9698e4486878867c4f265c48"><div class="ttname"><a href="_dino_game_8cpp.html#a9c02f93c9698e4486878867c4f265c48">y</a></div><div class="ttdeci">uint32_t y</div><div class="ttdef"><b>Definition</b> <a href="_dino_game_8cpp_source.html#l00134">DinoGame.cpp:134</a></div></div>
<div class="ttc" id="a_dino_game_8cpp_html_aae8a40a17c0be29c1f06ca6b4f9e2235"><div class="ttname"><a href="_dino_game_8cpp.html#aae8a40a17c0be29c1f06ca6b4f9e2235">x</a></div><div class="ttdeci">uint32_t x</div><div class="ttdef"><b>Definition</b> <a href="_dino_game_8cpp_source.html#l00134">DinoGame.cpp:134</a></div></div>
<div class="ttc" id="atinyengine_8h_html_a99e26dc5d9e1752ba606841d6b5c3d40ad36c1abc9c38b5c283a332ac03682f1d"><div class="ttname"><a href="tinyengine_8h.html#a99e26dc5d9e1752ba606841d6b5c3d40ad36c1abc9c38b5c283a332ac03682f1d">TINYENGINE_OUTOFBOUNDS_ERROR</a></div><div class="ttdeci">@ TINYENGINE_OUTOFBOUNDS_ERROR</div><div class="ttdef"><b>Definition</b> <a href="tinyengine_8h_source.html#l00049">tinyengine.h:49</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="tinyengine__framebuffer_8cpp_source.html#l00012">12</a> of file <a class="el" href="tinyengine__framebuffer_8cpp_source.html">tinyengine_framebuffer.cpp</a>.</p>

</div>
</div>
<a id="ad546866d6b629b02bca4560c2c1ef35a" name="ad546866d6b629b02bca4560c2c1ef35a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad546866d6b629b02bca4560c2c1ef35a">&#9670;&#160;</a></span>UNIT_LSB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNIT_LSB&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tinyengine__framebuffer_8cpp_source.html#l00029">29</a> of file <a class="el" href="tinyengine__framebuffer_8cpp_source.html">tinyengine_framebuffer.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="tinyengine__framebuffer_8cpp.html">tinyengine_framebuffer.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
