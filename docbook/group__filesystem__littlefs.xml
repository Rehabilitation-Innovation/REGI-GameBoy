<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_group__filesystem__littlefs" xml:lang="en-US">
<title>
<para>filesystem_littlefs </para>
</title>
<indexterm><primary>filesystem_littlefs</primary></indexterm>
<para>

<para>littlefs file system </para>
 
</para>
<simplesect>
    <title>Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_group__filesystem_1gad16024c6aa37d328b78a38f8c006ac83">filesystem_t</link> * <link linkend="_group__filesystem__littlefs_1ga6bf5205dec6fdf2ec2d190c44f5f2594">filesystem_littlefs_create</link> (uint32_t block_cycles, lfs_size_t lookahead_size)</para>

<para>Create littlefs file system object. </para>
</listitem>
            <listitem><para>void <link linkend="_group__filesystem__littlefs_1ga4cdb39bf1728e9ee86032ef5c4abd704">filesystem_littlefs_free</link> (<link linkend="_group__filesystem_1gad16024c6aa37d328b78a38f8c006ac83">filesystem_t</link> *fs)</para>

<para>Release littlefs file system object. </para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>

<para>littlefs file system </para>
</section>
<section>
<title>Function Documentation</title>
<anchor xml:id="_group__filesystem__littlefs_1ga6bf5205dec6fdf2ec2d190c44f5f2594"/><section>
    <title>filesystem_littlefs_create()</title>
<indexterm><primary>filesystem_littlefs_create</primary><secondary>filesystem_littlefs</secondary></indexterm>
<indexterm><primary>filesystem_littlefs</primary><secondary>filesystem_littlefs_create</secondary></indexterm>
<para><computeroutput><link linkend="_group__filesystem_1gad16024c6aa37d328b78a38f8c006ac83">filesystem_t</link> * filesystem_littlefs_create (uint32_t block_cycles, lfs_size_t lookahead_size)</computeroutput></para><para>

<para>Create littlefs file system object. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>block_cycles</entry><entry>
<para>Number of erase cycles before littlefs evicts metadata logs and moves the metadata to another block. </para>
</entry>
                            </row>
                            <row>
<entry>lookahead_size</entry><entry>
<para>Threshold for metadata compaction during lfs_fs_gc in bytes. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>File system object. Returns NULL in case of failure. </para>
</formalpara>

                <formalpara>
                    <title>
Return values</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>NULL</entry><entry>
<para>failed to create file system object. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Definition at line <link linkend="_littlefs_8c_source_1l00421">421</link> of file <link linkend="_littlefs_8c_source">littlefs.c</link>.</para>
<programlisting linenumbering="unnumbered">00423 {
00424 &#32;&#32;&#32;&#32;<link linkend="_group__filesystem_1gad16024c6aa37d328b78a38f8c006ac83">filesystem_t</link>&#32;*fs&#32;=&#32;calloc(1,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_group__filesystem_1gad16024c6aa37d328b78a38f8c006ac83">filesystem_t</link>));
00425 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(fs&#32;==&#32;NULL)&#32;{
00426 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fprintf(stderr,&#32;<emphasis role="stringliteral">&quot;filesystem_littlefs_create:&#32;Out&#32;of&#32;memory\n&quot;</emphasis>);
00427 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;NULL;
00428 &#32;&#32;&#32;&#32;}
00429 
00430 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a4ba3d1ab6d89005e297c86eb8bafd225">type</link>&#32;=&#32;<link linkend="_filesystem_8h_1ae11c5ff9c996a8d72f65fcf4d52f4804a598d9642db3e841af8699b0b240f0d36">FILESYSTEM_TYPE_LITTLEFS</link>;
00431 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a72ec4af591f1c4d4538ea3baaf5fb8db">name</link>&#32;=&#32;FILESYSTEM_NAME;
00432 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1ab137318416813c5413e1fb5f356e712c">mount</link>&#32;=&#32;mount;
00433 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a6e052dafa112dba9a6d729a49cae08c1">unmount</link>&#32;=&#32;unmount;
00434 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1ad7739bd29a4ee1d7e839c3bfe58d3c53">format</link>&#32;=&#32;format;
00435 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a168c6ebc947bcef4dd441c4846199663">remove</link>&#32;=&#32;file_remove;
00436 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a1642d2b8278ee2e0e28e67e3c871e7af">rename</link>&#32;=&#32;file_rename;
00437 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a9f586df0f698f0472b033f406de87de3">mkdir</link>&#32;=&#32;file_mkdir;
00438 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a396727009601ff7cd9505b724dc744f3">rmdir</link>&#32;=&#32;file_rmdir;
00439 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1ab5f68a612c88a96e638d2035a7ec59fd">stat</link>&#32;=&#32;file_stat;
00440 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a28f1a1f90cf5c05660e20b20e55cf1c7">file_open</link>&#32;=&#32;file_open;
00441 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1ab649defbea72289a00b64b6eabdd1b4d">file_close</link>&#32;=&#32;file_close;
00442 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1aa101ba0e335b6b94b615cd27edbef29f">file_write</link>&#32;=&#32;file_write;
00443 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1afa641bc200d34300f3306a7f2b1c0794">file_read</link>&#32;=&#32;file_read;
00444 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a6e562ac4ed1ead2c1654c5c9312b2394">file_sync</link>&#32;=&#32;file_sync;
00445 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a42ee5c83a7fe9edddb0181f9b54d7b00">file_seek</link>&#32;=&#32;file_seek;
00446 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1acdf7fe4f2c1ef87fc1f2894cf473d271">file_tell</link>&#32;=&#32;file_tell;
00447 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1ab8ed19dbc2c21c95682aec0418f09e72">file_size</link>&#32;=&#32;file_size;
00448 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a1318c5761c315dc5354e5154aae7d0f3">file_truncate</link>&#32;=&#32;file_truncate;
00449 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a85af88c13c623c820eca217dd81c2a2a">dir_open</link>&#32;=&#32;dir_open;
00450 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a537d71bf313451145ca593fe2a63d728">dir_close</link>&#32;=&#32;dir_close;
00451 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1a36cd5c106f4d8a95cdf1ee4a73052001">dir_read</link>&#32;=&#32;dir_read;
00452 
00453 &#32;&#32;&#32;&#32;<link linkend="_structfilesystem__littlefs__context__t">filesystem_littlefs_context_t</link>&#32;*context&#32;=&#32;calloc(1,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_structfilesystem__littlefs__context__t">filesystem_littlefs_context_t</link>));
00454 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(context&#32;==&#32;NULL)&#32;{
00455 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fprintf(stderr,&#32;<emphasis role="stringliteral">&quot;filesystem_littlefs_create:&#32;Out&#32;of&#32;memory\n&quot;</emphasis>);
00456 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;free(fs);
00457 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;NULL;
00458 &#32;&#32;&#32;&#32;}
00459 &#32;&#32;&#32;&#32;context-&gt;<link linkend="_structfilesystem__littlefs__context__t_1a481d99fcad1725a02b3e915b5146c40c">id</link>&#32;=&#32;-1;
00460 &#32;&#32;&#32;&#32;context-&gt;<link linkend="_structfilesystem__littlefs__context__t_1aa8da7b7fe3b414f414ff18eacf1a6702">config</link>.block_cycles&#32;=&#32;block_cycles;
00461 &#32;&#32;&#32;&#32;context-&gt;<link linkend="_structfilesystem__littlefs__context__t_1aa8da7b7fe3b414f414ff18eacf1a6702">config</link>.lookahead_size&#32;=&#32;lookahead_size;
00462 &#32;&#32;&#32;&#32;mutex_init(&amp;context-&gt;<link linkend="_structfilesystem__littlefs__context__t_1a4157a4ef6b6a802a975a897d0d0bdbe4">_mutex</link>);
00463 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1aac656c97403627be0598d9f5b45f4b46">context</link>&#32;=&#32;context;
00464 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;fs;
00465 }
</programlisting></section>
<anchor xml:id="_group__filesystem__littlefs_1ga4cdb39bf1728e9ee86032ef5c4abd704"/><section>
    <title>filesystem_littlefs_free()</title>
<indexterm><primary>filesystem_littlefs_free</primary><secondary>filesystem_littlefs</secondary></indexterm>
<indexterm><primary>filesystem_littlefs</primary><secondary>filesystem_littlefs_free</secondary></indexterm>
<para><computeroutput>void filesystem_littlefs_free (<link linkend="_group__filesystem_1gad16024c6aa37d328b78a38f8c006ac83">filesystem_t</link> * fs)</computeroutput></para><para>

<para>Release littlefs file system object. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>fs</entry><entry>
<para>littlefs file system object </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Definition at line <link linkend="_littlefs_8c_source_1l00467">467</link> of file <link linkend="_littlefs_8c_source">littlefs.c</link>.</para>
<programlisting linenumbering="unnumbered">00467 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00468 &#32;&#32;&#32;&#32;free(fs-&gt;<link linkend="_structfilesystem_1aac656c97403627be0598d9f5b45f4b46">context</link>);
00469 &#32;&#32;&#32;&#32;fs-&gt;<link linkend="_structfilesystem_1aac656c97403627be0598d9f5b45f4b46">context</link>&#32;=&#32;NULL;
00470 &#32;&#32;&#32;&#32;free(fs);
00471 &#32;&#32;&#32;&#32;fs&#32;=&#32;NULL;
00472 }
</programlisting></section>
</section>
</section>
